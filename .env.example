# === AI Summary — Environment Variables ===

# Supabase PostgreSQL (connection pooler → Transaction mode, port 6543)
DATABASE_URL=postgresql://postgres.XXXXX:PASSWORD@aws-0-eu-central-1.pooler.supabase.com:6543/postgres

# Redis (Railway addon or local)
REDIS_URL=redis://localhost:6379/0

# OpenAI
OPENAI_API_KEY=sk-your-key-here

# Models (change as needed)
TRANSCRIBE_MODEL=gpt-4o-transcribe
SUMMARY_MODEL=gpt-4o-mini

# YouTube download tuning (optional)
# Path to cookies.txt exported from browser for yt-dlp (recommended on Railway).
YTDLP_COOKIES_PATH=
# Or base64 of cookies.txt content (useful when only env vars are available).
YTDLP_COOKIES_B64=
# youtube player client for yt-dlp extractor args (android/web/ios).
YTDLP_PLAYER_CLIENT=android
# fallback order of player clients for yt-dlp retries
YTDLP_FALLBACK_CLIENTS=android,web,ios

# Limits
MAX_UPLOAD_MB=250
MAX_AUDIO_CHUNK_SECONDS=1300
UPLOAD_BLOB_TTL_SECONDS=3600
CLEANUP_AFTER_MINUTES=30
CALLBACK_TIMEOUT_SECONDS=10
CALLBACK_RETRIES=2

# Security
SECRET_KEY=change-me-to-something-random

# API limits / queue retries
AUTH_RATE_LIMIT_PER_MINUTE=20
JOB_SUBMIT_RATE_LIMIT_PER_MINUTE=30
JOB_MAX_RETRIES=2
JOB_RETENTION_HOURS=168
RETENTION_CLEANUP_INTERVAL_SECONDS=1800
RETENTION_CLEANUP_BATCH_SIZE=200
